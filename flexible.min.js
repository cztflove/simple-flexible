;(function(designWidth,maxWidth){var doc=document,win=window,docEl=doc.documentElement,remStyle=document.createElement("style"),tid;function refreshRem(scaleFactor=1){var width=docEl.getBoundingClientRect().width;maxWidth=maxWidth||540;width>maxWidth&&(width=maxWidth);var rem=width*100/designWidth;rem=rem/scaleFactor;remStyle.innerHTML='html{font-size:'+rem+'px;}'}if(docEl.firstElementChild){docEl.firstElementChild.appendChild(remStyle)}else{var wrap=doc.createElement("div");wrap.appendChild(remStyle);doc.write(wrap.innerHTML);wrap=null}function getFontScaleFactor(){var $dom=document.getElementsByTagName('body');var scaledFontSize=parseInt(window.getComputedStyle($dom[0],null).getPropertyValue('font-size'));return scaledFontSize/16}refreshRem();win.addEventListener("resize",function(){clearTimeout(tid);tid=setTimeout(function(){var scaleFactor=getFontScaleFactor();refreshRem(scaleFactor)},300)},false);win.addEventListener("pageshow",function(e){if(e.persisted){clearTimeout(tid);tid=setTimeout(function(){var scaleFactor=getFontScaleFactor();refreshRem(scaleFactor)},300)}},false);if(doc.readyState==="complete"){doc.body.style.fontSize="16px";var scaleFactor=getFontScaleFactor();if(scaleFactor!==1){refreshRem(scaleFactor)}}else{doc.addEventListener("DOMContentLoaded",function(e){doc.body.style.fontSize="16px";var scaleFactor=getFontScaleFactor();if(scaleFactor!==1){refreshRem(scaleFactor)}},false)}})(750,750);
